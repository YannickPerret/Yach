datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

model Calendar {
  id          String       @id @default(uuid())
  name        String?
  type        String       @default("OTHER")
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
  parentCalendarId String? @map("parent_calendar_id")
  parentCalendar   Calendar?   @relation("CalendarToCalendar", fields: [parentCalendarId], references: [id])
  subCalendars     Calendar[] @relation("CalendarToCalendar")
  events           Event[]    @relation("CalendarToEvent")

  @@index([id])
}

model Event {
  id        String           @id @default(uuid())
  createdAt DateTime         @default(now())
  updatedAt DateTime         @updatedAt
  summary   String 
  sequence  Int?
  status    String?
  transp    String
  rRule     String?
  start     String
  end       String
  drStamp   String
  categories String?
  location  String?
  geo       String?
  description String?
  url       String?
  calendarId String
  calendar  Calendar         @relation("CalendarToEvent", fields: [calendarId], references: [id])

  @@index([id])
}
